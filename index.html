<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VC Decoder</title>
    <link rel="icon" type="image/x-icon" href="images/VCfavicon.svg">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#00263e">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2092/2092663.png">
    <meta name="mobile-web-app-capable" content="yes">
    <style>
        :root {
            --primary-dark: #00263e;
            --accent-orange: #ee7103;
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
        }

        .container {
            background-color: var(--bg-color);
            width: 90%;
            max-width: 450px;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 38, 62, 0.05);
            text-align: center;
            transition: all 0.3s ease;
        }

        h2 {
            color: var(--primary-dark);
            margin-bottom: 25px;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .input-group {
            margin-bottom: 20px;
            text-align: right;
        }

        label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 8px;
            display: block;
        }

        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-family: monospace; /* Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ§Ù†Ø§ÛŒÛŒ Ø¨Ù‡ØªØ± Ù„ÛŒÙ†Ú© */
            font-size: 14px;
            resize: none;
            box-sizing: border-box;
            background: #fdfdfd;
            color: var(--primary-dark);
            transition: border-color 0.3s;
            direction: ltr; /* Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ú†Ù¾â€ŒÚ†ÛŒÙ† */
        }

        textarea:focus {
            outline: none;
            border-color: var(--primary-dark);
        }

        .btn-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-family: 'Vazirmatn', sans-serif;
            font-weight: 500;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.1s, opacity 0.2s;
        }

        button:active {
            transform: scale(0.98);
        }

        .btn-encode {
            background-color: var(--primary-dark);
            color: white;
        }

        .btn-decode {
            background-color: #f0f2f5;
            color: var(--primary-dark);
            border: 1px solid var(--primary-dark);
        }

        .btn-copy {
            background-color: var(--accent-orange);
            color: white;
            width: 100%;
            margin-top: 10px;
            font-weight: 700;
        }

        .divider {
            height: 1px;
            background-color: var(--border-color);
            margin: 25px 0;
        }

        .footer-note {
            font-size: 0.8rem;
            color: #aaa;
            margin-top: 20px;
        }
        
        /* Ø­Ø§Ù„Øª Ù…Ø®ÙÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù… Ú©Ù¾ÛŒ */
        #copyMsg {
            font-size: 0.8rem;
            color: var(--accent-orange);
            height: 20px;
            opacity: 0;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Visual Conversion Decoder</h2>
    
    <div class="input-group">
        <label for="inputData">Ù„ÛŒÙ†Ú© ÛŒØ§ Ù…ØªÙ† Ú©Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</label>
        <textarea id="inputData" placeholder="vmess://... ÛŒØ§ Ù…ØªÙ† Ø¯Ø±Ù‡Ù…â€ŒØ±ÛŒØ®ØªÙ‡"></textarea>
    </div>

    <div class="btn-container">
        <button class="btn-encode" onclick="processText('encode')">ğŸ”’ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ú©Ø¯</button>
        <button class="btn-decode" onclick="processText('decode')">ğŸ”“ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ</button>
    </div>

    <div class="divider"></div>

    <div class="input-group">
        <label for="outputData">Ø®Ø±ÙˆØ¬ÛŒ:</label>
        <textarea id="outputData" readonly placeholder="Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯"></textarea>
    </div>

    <button class="btn-copy" onclick="copyToClipboard()">Ú©Ù¾ÛŒ Ù†ØªÛŒØ¬Ù‡</button>
    <div id="copyMsg">Ú©Ù¾ÛŒ Ø´Ø¯!</div>

    <div class="footer-note">Ø§Ø¬Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¢ÙÙ„Ø§ÛŒÙ† Ùˆ Ø§Ù…Ù†</div>
</div>

<script>
    // Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø­Ø±ÙˆÙ Ø§ØµÙ„ÛŒ (Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ vmess Ù…Ø¹Ù…ÙˆÙ„Ø§ Ø´Ø§Ù…Ù„ Ø§ÛŒÙ† Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ Ù‡Ø³ØªÙ†Ø¯)
    // Ø´Ø§Ù…Ù„ Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú©ØŒ Ø¨Ø²Ø±Ú¯ØŒ Ø§Ø¹Ø¯Ø§Ø¯ Ùˆ Ø³ÛŒÙ…Ø¨Ù„â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒØ¬ Ø¯Ø± URL
    const originalChars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789://+=-_?.&%";
    
    // Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† (Ù…Ø®Ù„ÙˆØ·ÛŒ Ø§Ø² ÙØ§Ø±Ø³ÛŒ Ùˆ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ùˆ Ø§Ø¹Ø¯Ø§Ø¯ Ø¨ÛŒ Ù…Ø¹Ù†ÛŒ)
    // Ø·ÙˆÙ„ Ø§ÛŒÙ† Ø±Ø´ØªÙ‡ Ø¯Ù‚ÛŒÙ‚Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ originalChars Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§Ø´Ø¯ (Û·Ûµ Ú©Ø§Ø±Ø§Ú©ØªØ±)
    // Ø³Ø¹ÛŒ Ø´Ø¯Ù‡ Ø§Ø² Ø­Ø±ÙˆÙÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯ Ú©Ù‡ Ø¯Ø± SMS Ù…Ø´Ú©Ù„ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ú©Ù†Ù†Ø¯
    const cipherChars   = "Ø¶ØµØ«Ù‚ÙØºØ¹Ù‡Ø®Ø­Ø¬Ú†Ù¾Ø´Ø³ÛŒØ¨Ù„Ø§ØªÙ†Ù…Ú©Ú¯Ø¸Ø·Ø²Ø±Ø°Ø¯Ø¦Ùˆa1b2c3d4e5f6g7h8i9j0kmnpqrstuwxyzv-+_!?&%";

    function processText(mode) {
        let input = document.getElementById("inputData").value;
        let output = "";
        
        // ØªØ´Ø®ÛŒØµ Ù…Ø³ÛŒØ± ØªØ¨Ø¯ÛŒÙ„ (Ø§Ù†Ú©Ø¯ ÛŒØ§ Ø¯ÛŒÚ©Ø¯)
        let sourceArr = (mode === 'encode') ? originalChars : cipherChars;
        let targetArr = (mode === 'encode') ? cipherChars : originalChars;

        for (let i = 0; i < input.length; i++) {
            let char = input[i];
            let index = sourceArr.indexOf(char);
            
            if (index !== -1) {
                // Ø§Ú¯Ø± Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¯Ø± Ù„ÛŒØ³Øª Ù…Ø§ Ø¨ÙˆØ¯ØŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†Ø´ Ú©Ù†
                output += targetArr[index];
            } else {
                // Ø§Ú¯Ø± Ú©Ø§Ø±Ø§Ú©ØªØ±ÛŒ Ø®Ø§Øµ Ø¨ÙˆØ¯ Ú©Ù‡ Ø¯Ø± Ù„ÛŒØ³Øª Ù…Ø§ Ù†ÛŒØ³ØªØŒ Ø®ÙˆØ¯Ø´ Ø±Ø§ Ù†Ú¯Ù‡ Ø¯Ø§Ø± (Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø±Ø§Ø¨ÛŒ)
                output += char;
            }
        }
        
        document.getElementById("outputData").value = output;
    }

    function copyToClipboard() {
        let copyText = document.getElementById("outputData");
        if(copyText.value.length === 0) return;
        
        copyText.select();
        copyText.setSelectionRange(0, 99999); // Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„
        
        try {
            navigator.clipboard.writeText(copyText.value).then(() => {
                showCopyMsg();
            });
        } catch (err) {
            // Ø±ÙˆØ´ Ù‚Ø¯ÛŒÙ…ÛŒ Ø§Ú¯Ø± navigator Ú©Ø§Ø± Ù†Ú©Ø±Ø¯
            document.execCommand("copy");
            showCopyMsg();
        }
    }

    function showCopyMsg() {
        let msg = document.getElementById("copyMsg");
        msg.style.opacity = "1";
        setTimeout(() => { msg.style.opacity = "0"; }, 2000);
    }
</script>

</body>

</html>

